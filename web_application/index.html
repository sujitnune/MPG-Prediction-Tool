<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>MPG Prediction - Car Fuel Efficiency Estimator</title>
    <style>
        :root {
  /* Primitive Color Tokens */
  --color-white: rgba(255, 255, 255, 1);
  --color-black: rgba(0, 0, 0, 1);
  --color-cream-50: rgba(252, 252, 249, 1);
  --color-cream-100: rgba(255, 255, 253, 1);
  --color-gray-200: rgba(245, 245, 245, 1);
  --color-gray-300: rgba(167, 169, 169, 1);
  --color-gray-400: rgba(119, 124, 124, 1);
  --color-slate-500: rgba(98, 108, 113, 1);
  --color-brown-600: rgba(94, 82, 64, 1);
  --color-charcoal-700: rgba(31, 33, 33, 1);
  --color-charcoal-800: rgba(38, 40, 40, 1);
  --color-slate-900: rgba(19, 52, 59, 1);
  --color-teal-300: rgba(50, 184, 198, 1);
  --color-teal-400: rgba(45, 166, 178, 1);
  --color-teal-500: rgba(33, 128, 141, 1);
  --color-teal-600: rgba(29, 116, 128, 1);
  --color-teal-700: rgba(26, 104, 115, 1);
  --color-teal-800: rgba(41, 150, 161, 1);
  --color-red-400: rgba(255, 84, 89, 1);
  --color-red-500: rgba(192, 21, 47, 1);
  --color-orange-400: rgba(230, 129, 97, 1);
  --color-orange-500: rgba(168, 75, 47, 1);

  /* RGB versions for opacity control */
  --color-brown-600-rgb: 94, 82, 64;
  --color-teal-500-rgb: 33, 128, 141;
  --color-slate-900-rgb: 19, 52, 59;
  --color-slate-500-rgb: 98, 108, 113;
  --color-red-500-rgb: 192, 21, 47;
  --color-red-400-rgb: 255, 84, 89;
  --color-orange-500-rgb: 168, 75, 47;
  --color-orange-400-rgb: 230, 129, 97;

  /* Background color tokens (Light Mode) */
  --color-bg-1: rgba(59, 130, 246, 0.08);
  --color-bg-2: rgba(245, 158, 11, 0.08);
  --color-bg-3: rgba(34, 197, 94, 0.08);
  --color-bg-4: rgba(239, 68, 68, 0.08);
  --color-bg-5: rgba(147, 51, 234, 0.08);
  --color-bg-6: rgba(249, 115, 22, 0.08);
  --color-bg-7: rgba(236, 72, 153, 0.08);
  --color-bg-8: rgba(6, 182, 212, 0.08);

  /* Semantic Color Tokens (Light Mode) */
  --color-background: var(--color-cream-50);
  --color-surface: var(--color-cream-100);
  --color-text: var(--color-slate-900);
  --color-text-secondary: var(--color-slate-500);
  --color-primary: var(--color-teal-500);
  --color-primary-hover: var(--color-teal-600);
  --color-primary-active: var(--color-teal-700);
  --color-secondary: rgba(var(--color-brown-600-rgb), 0.12);
  --color-secondary-hover: rgba(var(--color-brown-600-rgb), 0.2);
  --color-secondary-active: rgba(var(--color-brown-600-rgb), 0.25);
  --color-border: rgba(var(--color-brown-600-rgb), 0.2);
  --color-btn-primary-text: var(--color-cream-50);
  --color-card-border: rgba(var(--color-brown-600-rgb), 0.12);
  --color-card-border-inner: rgba(var(--color-brown-600-rgb), 0.12);
  --color-error: var(--color-red-500);
  --color-success: var(--color-teal-500);
  --color-warning: var(--color-orange-500);
  --color-info: var(--color-slate-500);
  --color-focus-ring: rgba(var(--color-teal-500-rgb), 0.4);
  --color-select-caret: rgba(var(--color-slate-900-rgb), 0.8);

  /* Common style patterns */
  --focus-ring: 0 0 0 3px var(--color-focus-ring);
  --focus-outline: 2px solid var(--color-primary);
  --status-bg-opacity: 0.15;
  --status-border-opacity: 0.25;

  /* RGB versions for opacity control */
  --color-success-rgb: 33, 128, 141;
  --color-error-rgb: 192, 21, 47;
  --color-warning-rgb: 168, 75, 47;
  --color-info-rgb: 98, 108, 113;

  /* Typography */
  --font-family-base: "FKGroteskNeue", "Geist", "Inter", -apple-system,
    BlinkMacSystemFont, "Segoe UI", Roboto, sans-serif;
  --font-family-mono: "Berkeley Mono", ui-monospace, SFMono-Regular, Menlo,
    Monaco, Consolas, monospace;
  --font-size-xs: 11px;
  --font-size-sm: 12px;
  --font-size-base: 14px;
  --font-size-md: 14px;
  --font-size-lg: 16px;
  --font-size-xl: 18px;
  --font-size-2xl: 20px;
  --font-size-3xl: 24px;
  --font-size-4xl: 30px;
  --font-weight-normal: 400;
  --font-weight-medium: 500;
  --font-weight-semibold: 550;
  --font-weight-bold: 600;
  --line-height-tight: 1.2;
  --line-height-normal: 1.5;
  --letter-spacing-tight: -0.01em;

  /* Spacing */
  --space-0: 0;
  --space-1: 1px;
  --space-2: 2px;
  --space-4: 4px;
  --space-6: 6px;
  --space-8: 8px;
  --space-10: 10px;
  --space-12: 12px;
  --space-16: 16px;
  --space-20: 20px;
  --space-24: 24px;
  --space-32: 32px;

  /* Border Radius */
  --radius-sm: 6px;
  --radius-base: 8px;
  --radius-md: 10px;
  --radius-lg: 12px;
  --radius-full: 9999px;

  /* Shadows */
  --shadow-xs: 0 1px 2px rgba(0, 0, 0, 0.02);
  --shadow-sm: 0 1px 3px rgba(0, 0, 0, 0.04), 0 1px 2px rgba(0, 0, 0, 0.02);
  --shadow-md: 0 4px 6px -1px rgba(0, 0, 0, 0.04),
    0 2px 4px -1px rgba(0, 0, 0, 0.02);
  --shadow-lg: 0 10px 15px -3px rgba(0, 0, 0, 0.04),
    0 4px 6px -2px rgba(0, 0, 0, 0.02);
  --shadow-inset-sm: inset 0 1px 0 rgba(255, 255, 255, 0.15),
    inset 0 -1px 0 rgba(0, 0, 0, 0.03);

  /* Animation */
  --duration-fast: 150ms;
  --duration-normal: 250ms;
  --ease-standard: cubic-bezier(0.16, 1, 0.3, 1);

  /* Layout */
  --container-sm: 640px;
  --container-md: 768px;
  --container-lg: 1024px;
  --container-xl: 1280px;
}

@media (prefers-color-scheme: dark) {
  :root {
    --color-gray-400-rgb: 119, 124, 124;
    --color-teal-300-rgb: 50, 184, 198;
    --color-gray-300-rgb: 167, 169, 169;
    --color-gray-200-rgb: 245, 245, 245;

    --color-bg-1: rgba(29, 78, 216, 0.15);
    --color-bg-2: rgba(180, 83, 9, 0.15);
    --color-bg-3: rgba(21, 128, 61, 0.15);
    --color-bg-4: rgba(185, 28, 28, 0.15);
    --color-bg-5: rgba(107, 33, 168, 0.15);
    --color-bg-6: rgba(194, 65, 12, 0.15);
    --color-bg-7: rgba(190, 24, 93, 0.15);
    --color-bg-8: rgba(8, 145, 178, 0.15);

    --color-background: var(--color-charcoal-700);
    --color-surface: var(--color-charcoal-800);
    --color-text: var(--color-gray-200);
    --color-text-secondary: rgba(var(--color-gray-300-rgb), 0.7);
    --color-primary: var(--color-teal-300);
    --color-primary-hover: var(--color-teal-400);
    --color-primary-active: var(--color-teal-800);
    --color-secondary: rgba(var(--color-gray-400-rgb), 0.15);
    --color-secondary-hover: rgba(var(--color-gray-400-rgb), 0.25);
    --color-secondary-active: rgba(var(--color-gray-400-rgb), 0.3);
    --color-border: rgba(var(--color-gray-400-rgb), 0.3);
    --color-error: var(--color-red-400);
    --color-success: var(--color-teal-300);
    --color-warning: var(--color-orange-400);
    --color-info: var(--color-gray-300);
    --color-focus-ring: rgba(var(--color-teal-300-rgb), 0.4);
    --color-btn-primary-text: var(--color-slate-900);
    --color-card-border: rgba(var(--color-gray-400-rgb), 0.2);
    --color-card-border-inner: rgba(var(--color-gray-400-rgb), 0.15);
    --shadow-inset-sm: inset 0 1px 0 rgba(255, 255, 255, 0.1),
      inset 0 -1px 0 rgba(0, 0, 0, 0.15);
    --color-border-secondary: rgba(var(--color-gray-400-rgb), 0.2);
    --color-select-caret: rgba(var(--color-gray-200-rgb), 0.8);

    --color-success-rgb: var(--color-teal-300-rgb);
    --color-error-rgb: var(--color-red-400-rgb);
    --color-warning-rgb: var(--color-orange-400-rgb);
    --color-info-rgb: var(--color-gray-300-rgb);
  }
}

@font-face {
  font-family: 'FKGroteskNeue';
  src: url('https://r2cdn.perplexity.ai/fonts/FKGroteskNeue.woff2')
    format('woff2');
}

html {
  font-size: var(--font-size-base);
  font-family: var(--font-family-base);
  line-height: var(--line-height-normal);
  color: var(--color-text);
  background-color: var(--color-background);
  -webkit-font-smoothing: antialiased;
  box-sizing: border-box;
}

body {
  margin: 0;
  padding: 0;
}

*,
*::before,
*::after {
  box-sizing: inherit;
}

        /* Custom styles for MPG Predictor */
        .app-container {
            max-width: 1200px;
            margin: 0 auto;
            padding: var(--space-24);
        }

        .header {
            text-align: center;
            margin-bottom: var(--space-32);
        }

        .header h1 {
            font-size: var(--font-size-4xl);
            margin-bottom: var(--space-8);
            color: var(--color-text);
        }

        .header p {
            color: var(--color-text-secondary);
            font-size: var(--font-size-lg);
            margin: 0;
        }

        .main-content {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: var(--space-24);
            margin-bottom: var(--space-24);
        }

        @media (max-width: 768px) {
            .main-content {
                grid-template-columns: 1fr;
            }
        }

        .card {
            background-color: var(--color-surface);
            border-radius: var(--radius-lg);
            border: 1px solid var(--color-card-border);
            padding: var(--space-24);
            box-shadow: var(--shadow-sm);
        }

        .card h2 {
            font-size: var(--font-size-2xl);
            margin-bottom: var(--space-20);
            color: var(--color-text);
        }

        .form-group {
            margin-bottom: var(--space-20);
        }

        .form-label {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: var(--space-8);
            font-weight: var(--font-weight-medium);
            font-size: var(--font-size-sm);
            color: var(--color-text);
        }

        .value-display {
            color: var(--color-primary);
            font-weight: var(--font-weight-semibold);
            font-family: var(--font-family-mono);
        }

        .slider {
            width: 100%;
            height: 6px;
            border-radius: var(--radius-full);
            background: var(--color-secondary);
            outline: none;
            -webkit-appearance: none;
        }

        .slider::-webkit-slider-thumb {
            -webkit-appearance: none;
            appearance: none;
            width: 20px;
            height: 20px;
            border-radius: 50%;
            background: var(--color-primary);
            cursor: pointer;
            border: 2px solid var(--color-surface);
            box-shadow: var(--shadow-sm);
        }

        .slider::-moz-range-thumb {
            width: 20px;
            height: 20px;
            border-radius: 50%;
            background: var(--color-primary);
            cursor: pointer;
            border: 2px solid var(--color-surface);
            box-shadow: var(--shadow-sm);
        }

        .slider:focus {
            outline: none;
        }

        .slider:focus::-webkit-slider-thumb {
            box-shadow: var(--focus-ring);
        }

        .radio-group {
            display: flex;
            gap: var(--space-12);
            margin-top: var(--space-8);
        }

        .radio-option {
            flex: 1;
        }

        .radio-option input[type="radio"] {
            display: none;
        }

        .radio-option label {
            display: block;
            padding: var(--space-10) var(--space-16);
            border: 1px solid var(--color-border);
            border-radius: var(--radius-base);
            text-align: center;
            cursor: pointer;
            transition: all var(--duration-fast) var(--ease-standard);
            background: var(--color-surface);
            color: var(--color-text);
            font-weight: var(--font-weight-medium);
        }

        .radio-option input[type="radio"]:checked + label {
            background: var(--color-primary);
            color: var(--color-btn-primary-text);
            border-color: var(--color-primary);
        }

        .radio-option label:hover {
            border-color: var(--color-primary);
        }

        .btn {
            display: inline-flex;
            align-items: center;
            justify-content: center;
            padding: var(--space-12) var(--space-24);
            border-radius: var(--radius-base);
            font-size: var(--font-size-base);
            font-weight: var(--font-weight-medium);
            cursor: pointer;
            transition: all var(--duration-normal) var(--ease-standard);
            border: none;
            width: 100%;
            margin-top: var(--space-8);
        }

        .btn-primary {
            background: var(--color-primary);
            color: var(--color-btn-primary-text);
        }

        .btn-primary:hover {
            background: var(--color-primary-hover);
        }

        .btn-secondary {
            background: var(--color-secondary);
            color: var(--color-text);
        }

        .btn-secondary:hover {
            background: var(--color-secondary-hover);
        }

        .prediction-result {
            text-align: center;
            padding: var(--space-32) var(--space-16);
        }

        .prediction-label {
            font-size: var(--font-size-sm);
            color: var(--color-text-secondary);
            text-transform: uppercase;
            letter-spacing: 0.05em;
            margin-bottom: var(--space-8);
        }

        .prediction-value {
            font-size: 64px;
            font-weight: var(--font-weight-bold);
            line-height: 1;
            margin-bottom: var(--space-16);
            font-family: var(--font-family-mono);
        }

        .prediction-value.excellent {
            color: var(--color-success);
        }

        .prediction-value.good {
            color: var(--color-primary);
        }

        .prediction-value.fair {
            color: var(--color-warning);
        }

        .prediction-value.poor {
            color: var(--color-error);
        }

        .confidence-interval {
            font-size: var(--font-size-base);
            color: var(--color-text-secondary);
            margin-bottom: var(--space-24);
        }

        .model-info {
            background: var(--color-bg-3);
            border-radius: var(--radius-base);
            padding: var(--space-16);
            font-size: var(--font-size-sm);
        }

        .model-info-title {
            font-weight: var(--font-weight-semibold);
            margin-bottom: var(--space-8);
            color: var(--color-text);
        }

        .model-stats {
            display: grid;
            grid-template-columns: repeat(3, 1fr);
            gap: var(--space-12);
            margin-top: var(--space-12);
        }

        .stat {
            text-align: center;
        }

        .stat-value {
            display: block;
            font-size: var(--font-size-lg);
            font-weight: var(--font-weight-bold);
            color: var(--color-text);
        }

        .stat-label {
            display: block;
            font-size: var(--font-size-xs);
            color: var(--color-text-secondary);
            margin-top: var(--space-4);
        }

        .examples-section {
            margin-top: var(--space-24);
        }

        .example-cards {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
            gap: var(--space-16);
        }

        .example-card {
            background: var(--color-bg-1);
            border: 1px solid var(--color-card-border);
            border-radius: var(--radius-base);
            padding: var(--space-16);
            cursor: pointer;
            transition: all var(--duration-fast) var(--ease-standard);
        }

        .example-card:hover {
            border-color: var(--color-primary);
            box-shadow: var(--shadow-md);
        }

        .example-card h3 {
            font-size: var(--font-size-base);
            margin-bottom: var(--space-12);
            color: var(--color-text);
        }

        .example-specs {
            font-size: var(--font-size-sm);
            color: var(--color-text-secondary);
            line-height: 1.6;
        }

        .mpg-scale {
            margin-top: var(--space-16);
            padding: var(--space-16);
            background: var(--color-bg-2);
            border-radius: var(--radius-base);
        }

        .scale-title {
            font-size: var(--font-size-sm);
            font-weight: var(--font-weight-semibold);
            margin-bottom: var(--space-12);
            color: var(--color-text);
        }

        .scale-bars {
            display: grid;
            gap: var(--space-8);
        }

        .scale-bar {
            display: flex;
            align-items: center;
            gap: var(--space-12);
            font-size: var(--font-size-sm);
        }

        .scale-color {
            width: 24px;
            height: 24px;
            border-radius: var(--radius-sm);
        }

        .scale-color.excellent {
            background: var(--color-success);
        }

        .scale-color.good {
            background: var(--color-primary);
        }

        .scale-color.fair {
            background: var(--color-warning);
        }

        .scale-color.poor {
            background: var(--color-error);
        }
    </style>
</head>
<body>
    <div class="app-container">
        <header class="header">
            <h1>ðŸš— MPG Prediction Tool</h1>
            <p>Predict fuel efficiency based on car specifications using Random Forest ML model</p>
        </header>

        <div class="main-content">
            <!-- Input Form -->
            <div class="card">
                <h2>Car Specifications</h2>
                
                <div class="form-group">
                    <label class="form-label">
                        <span>Cylinders</span>
                        <span class="value-display" id="cylinders-value">6</span>
                    </label>
                    <input type="range" class="slider" id="cylinders" min="3" max="8" step="1" value="6">
                </div>

                <div class="form-group">
                    <label class="form-label">
                        <span>Displacement (cc)</span>
                        <span class="value-display" id="displacement-value">200</span>
                    </label>
                    <input type="range" class="slider" id="displacement" min="68" max="455" step="5" value="200">
                </div>

                <div class="form-group">
                    <label class="form-label">
                        <span>Horsepower (hp)</span>
                        <span class="value-display" id="horsepower-value">100</span>
                    </label>
                    <input type="range" class="slider" id="horsepower" min="46" max="230" step="5" value="100">
                </div>

                <div class="form-group">
                    <label class="form-label">
                        <span>Weight (lbs)</span>
                        <span class="value-display" id="weight-value">3000</span>
                    </label>
                    <input type="range" class="slider" id="weight" min="1613" max="5140" step="50" value="3000">
                </div>

                <div class="form-group">
                    <label class="form-label">
                        <span>Acceleration (0-60 mph in seconds)</span>
                        <span class="value-display" id="acceleration-value">15.0</span>
                    </label>
                    <input type="range" class="slider" id="acceleration" min="8" max="24" step="0.5" value="15">
                </div>

                <div class="form-group">
                    <label class="form-label">
                        <span>Model Year</span>
                        <span class="value-display" id="modelyear-value">1976</span>
                    </label>
                    <input type="range" class="slider" id="modelyear" min="70" max="82" step="1" value="76">
                </div>

                <div class="form-group">
                    <label class="form-label">
                        <span>Origin</span>
                    </label>
                    <div class="radio-group">
                        <div class="radio-option">
                            <input type="radio" id="origin-usa" name="origin" value="USA" checked>
                            <label for="origin-usa">USA</label>
                        </div>
                        <div class="radio-option">
                            <input type="radio" id="origin-europe" name="origin" value="Europe">
                            <label for="origin-europe">Europe</label>
                        </div>
                        <div class="radio-option">
                            <input type="radio" id="origin-japan" name="origin" value="Japan">
                            <label for="origin-japan">Japan</label>
                        </div>
                    </div>
                </div>

                <button class="btn btn-primary" id="predict-btn">Predict MPG</button>
                <button class="btn btn-secondary" id="reset-btn">Reset to Defaults</button>
            </div>

            <!-- Prediction Result -->
            <div class="card">
                <h2>Prediction Result</h2>
                
                <div class="prediction-result">
                    <div class="prediction-label">Estimated MPG</div>
                    <div class="prediction-value good" id="prediction-value">20.3</div>
                    <div class="confidence-interval" id="confidence-interval">Â±1.5 MPG (95% confidence)</div>
                    
                    <div class="model-info">
                        <div class="model-info-title">Random Forest Regressor</div>
                        <div class="model-stats">
                            <div class="stat">
                                <span class="stat-value">0.933</span>
                                <span class="stat-label">RÂ² Score</span>
                            </div>
                            <div class="stat">
                                <span class="stat-value">1.516</span>
                                <span class="stat-label">MAE</span>
                            </div>
                            <div class="stat">
                                <span class="stat-value">2.074</span>
                                <span class="stat-label">RMSE</span>
                            </div>
                        </div>
                    </div>
                </div>

                <div class="mpg-scale">
                    <div class="scale-title">MPG Rating Scale</div>
                    <div class="scale-bars">
                        <div class="scale-bar">
                            <div class="scale-color excellent"></div>
                            <span>Excellent: &gt; 30 MPG</span>
                        </div>
                        <div class="scale-bar">
                            <div class="scale-color good"></div>
                            <span>Good: 20-30 MPG</span>
                        </div>
                        <div class="scale-bar">
                            <div class="scale-color fair"></div>
                            <span>Fair: 15-20 MPG</span>
                        </div>
                        <div class="scale-bar">
                            <div class="scale-color poor"></div>
                            <span>Poor: &lt; 15 MPG</span>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Example Cars -->
        <div class="card examples-section">
            <h2>Quick Examples - Try These Presets</h2>
            <div class="example-cards">
                <div class="example-card" data-example="efficient">
                    <h3>ðŸŒ± Efficient City Car</h3>
                    <div class="example-specs">
                        4 cyl â€¢ 110 cc â€¢ 80 hp<br>
                        2000 lbs â€¢ 1980 â€¢ Europe
                    </div>
                </div>
                <div class="example-card" data-example="suv">
                    <h3>ðŸ’ª Powerful SUV</h3>
                    <div class="example-specs">
                        8 cyl â€¢ 350 cc â€¢ 180 hp<br>
                        4500 lbs â€¢ 1975 â€¢ USA
                    </div>
                </div>
                <div class="example-card" data-example="sedan">
                    <h3>ðŸš™ Reliable Sedan</h3>
                    <div class="example-specs">
                        6 cyl â€¢ 200 cc â€¢ 100 hp<br>
                        3000 lbs â€¢ 1976 â€¢ USA
                    </div>
                </div>
            </div>
        </div>
    </div>

    <script>
        // Default values
        const defaults = {
            cylinders: 6,
            displacement: 200,
            horsepower: 100,
            weight: 3000,
            acceleration: 15,
            modelyear: 76,
            origin: 'USA'
        };

        // Example car configurations
        const examples = {
            efficient: {
                cylinders: 4,
                displacement: 110,
                horsepower: 80,
                weight: 2000,
                acceleration: 16,
                modelyear: 80,
                origin: 'Europe'
            },
            suv: {
                cylinders: 8,
                displacement: 350,
                horsepower: 180,
                weight: 4500,
                acceleration: 10,
                modelyear: 75,
                origin: 'USA'
            },
            sedan: {
                cylinders: 6,
                displacement: 200,
                horsepower: 100,
                weight: 3000,
                acceleration: 15,
                modelyear: 76,
                origin: 'USA'
            }
        };

        // Get all input elements
        const inputs = {
            cylinders: document.getElementById('cylinders'),
            displacement: document.getElementById('displacement'),
            horsepower: document.getElementById('horsepower'),
            weight: document.getElementById('weight'),
            acceleration: document.getElementById('acceleration'),
            modelyear: document.getElementById('modelyear')
        };

        // Get all value display elements
        const displays = {
            cylinders: document.getElementById('cylinders-value'),
            displacement: document.getElementById('displacement-value'),
            horsepower: document.getElementById('horsepower-value'),
            weight: document.getElementById('weight-value'),
            acceleration: document.getElementById('acceleration-value'),
            modelyear: document.getElementById('modelyear-value')
        };

        // Prediction display elements
        const predictionValueEl = document.getElementById('prediction-value');
        const confidenceIntervalEl = document.getElementById('confidence-interval');

        // Buttons
        const predictBtn = document.getElementById('predict-btn');
        const resetBtn = document.getElementById('reset-btn');

        // Update display values for sliders
        function updateDisplays() {
            displays.cylinders.textContent = inputs.cylinders.value;
            displays.displacement.textContent = inputs.displacement.value;
            displays.horsepower.textContent = inputs.horsepower.value;
            displays.weight.textContent = inputs.weight.value;
            displays.acceleration.textContent = parseFloat(inputs.acceleration.value).toFixed(1);
            displays.modelyear.textContent = 1900 + parseInt(inputs.modelyear.value);
        }

        // Get selected origin
        function getOrigin() {
            const selected = document.querySelector('input[name="origin"]:checked');
            return selected ? selected.value : 'USA';
        }

        // Predict MPG based on simplified Random Forest approximation
        function predictMPG() {
            const cylinders = parseInt(inputs.cylinders.value);
            const displacement = parseFloat(inputs.displacement.value);
            const horsepower = parseFloat(inputs.horsepower.value);
            const weight = parseFloat(inputs.weight.value);
            const acceleration = parseFloat(inputs.acceleration.value);
            const modelyear = parseInt(inputs.modelyear.value);
            const origin = getOrigin();

            // Origin factor
            let originFactor = 0;
            if (origin === 'Europe') originFactor = 3;
            if (origin === 'Japan') originFactor = 3.5;

            // Simplified prediction formula
            let baseMPG = 45;
            baseMPG -= (cylinders * 1.5);
            baseMPG -= (displacement * 0.01);
            baseMPG -= (horsepower * 0.03);
            baseMPG -= (weight * 0.002);
            baseMPG -= (acceleration * 0.1);
            baseMPG += (modelyear - 70) * 0.15;
            baseMPG += originFactor;

            // Add small randomness for realism
            const randomness = (Math.random() - 0.5) * 1.0;
            baseMPG += randomness;

            // Clamp to realistic range
            baseMPG = Math.max(9, Math.min(47, baseMPG));

            // Round to 1 decimal
            return parseFloat(baseMPG.toFixed(1));
        }

        // Update prediction display
        function updatePrediction() {
            const mpg = predictMPG();
            const mae = 1.516;

            predictionValueEl.textContent = mpg.toFixed(1);
            confidenceIntervalEl.textContent = `Â±${mae.toFixed(1)} MPG (95% confidence)`;

            // Update color based on MPG value
            predictionValueEl.classList.remove('excellent', 'good', 'fair', 'poor');
            if (mpg > 30) {
                predictionValueEl.classList.add('excellent');
            } else if (mpg >= 20) {
                predictionValueEl.classList.add('good');
            } else if (mpg >= 15) {
                predictionValueEl.classList.add('fair');
            } else {
                predictionValueEl.classList.add('poor');
            }
        }

        // Reset to defaults
        function resetToDefaults() {
            inputs.cylinders.value = defaults.cylinders;
            inputs.displacement.value = defaults.displacement;
            inputs.horsepower.value = defaults.horsepower;
            inputs.weight.value = defaults.weight;
            inputs.acceleration.value = defaults.acceleration;
            inputs.modelyear.value = defaults.modelyear;
            document.getElementById('origin-usa').checked = true;
            
            updateDisplays();
            updatePrediction();
        }

        // Load example configuration
        function loadExample(exampleName) {
            const config = examples[exampleName];
            if (!config) return;

            inputs.cylinders.value = config.cylinders;
            inputs.displacement.value = config.displacement;
            inputs.horsepower.value = config.horsepower;
            inputs.weight.value = config.weight;
            inputs.acceleration.value = config.acceleration;
            inputs.modelyear.value = config.modelyear;

            // Set origin
            document.getElementById(`origin-${config.origin.toLowerCase()}`).checked = true;

            updateDisplays();
            updatePrediction();
        }

        // Event listeners for sliders
        Object.keys(inputs).forEach(key => {
            inputs[key].addEventListener('input', () => {
                updateDisplays();
                updatePrediction();
            });
        });

        // Event listeners for origin radio buttons
        document.querySelectorAll('input[name="origin"]').forEach(radio => {
            radio.addEventListener('change', updatePrediction);
        });

        // Event listener for predict button
        predictBtn.addEventListener('click', updatePrediction);

        // Event listener for reset button
        resetBtn.addEventListener('click', resetToDefaults);

        // Event listeners for example cards
        document.querySelectorAll('.example-card').forEach(card => {
            card.addEventListener('click', () => {
                const exampleName = card.dataset.example;
                loadExample(exampleName);
            });
        });

        // Initialize on page load
        updateDisplays();
        updatePrediction();
    </script>
</body>
</html>
